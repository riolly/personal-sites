---
import Layout from 'layouts/Layout.astro'
import EarthSvg from 'assets/earth.astro'
import RocketAstronaut from 'assets/rocket-astronaut.astro'
import PlanetLandscape from 'assets/landscape.astro'
import DialogBox from 'assets/dialog-box.astro'
---

<Layout
	title='Welcome to Riolly Universe'
	description='Explore web development universe with Alberto Riolly and take your dev skill to the moon.'
>
	<div class='absolute h-fit w-full overflow-clip'>
		<div class='stars absolute h-0.5 w-0.5 rounded-full'></div>
		<div class='stars-big absolute h-1 w-1 rounded-full'></div>
		<div class='twink absolute h-full w-full'></div>

		<!-- <div
			class='cloud absolute h-full w-full bg-repeat-x opacity-60 md:mt-20 md:[background-size:150%] lg:mt-0 xl:[background-size:125%] 2xl:[background-size:110%]'
		> 
		</div> -->
		<div class='relative h-[100lvh] w-full'>
			<div class='stars-shine absolute h-full w-full bg-cover'></div>

			<EarthSvg
				className='h-[28rem] md:h-[36rem] lg:h-[40rem] xl:h-[48rem] 2xl:h-[52rem] -rotate-90 absolute top-0 left-0 -translate-x-1/2 2xl:ml-20 -translate-y-1/2'
			/>
			<div
				id='gradient-br'
				class='absolute bottom-0 right-0 h-1/3 w-full bg-gradient-to-br from-transparent via-transparent to-indigo-900/80 md:w-3/4 lg:w-1/2'
			>
			</div>
			<div
				id='gradient-tr'
				class='absolute bottom-0 right-0 h-1/3 w-full translate-y-full bg-gradient-to-tr from-transparent via-transparent to-indigo-900/90 md:w-3/4 lg:w-1/2 xl:h-1/4'
			>
			</div>

			<div
				id='content-bg'
				class='absolute top-1/2 left-1/2 -ml-12 mt-4 h-fit w-[175%] -translate-y-1/2 -translate-x-1/2 overflow-clip md:-ml-40 md:w-[120%] lg:-ml-32 lg:w-[92%] xl:-ml-24 xl:w-[80%] 2xl:-ml-20 2xl:w-[60%]'
			>
				<svg
					class='-mt-16 -rotate-[15deg]'
					xmlns='http://www.w3.org/2000/svg'
					xmlns:xlink='http://www.w3.org/1999/xlink'
					viewBox='0 0 800 800'
				>
					<defs>
						<radialGradient id='radial-gradient'>
							<stop offset='50%' stop-color='#1e293b' stop-opacity='.8'></stop>
							<stop offset='70%' stop-color='#334155' stop-opacity='.6'></stop>
							<stop offset='100%' stop-color='#0f172a' stop-opacity='0'></stop>
						</radialGradient>
					</defs>
					<g id='background'>
						<ellipse
							rx='400'
							ry='250'
							cx='400'
							cy='400'
							fill='url(#radial-gradient)'
							style='mix-blend-mode:color-dodge'></ellipse>
					</g>
				</svg>
			</div>
			<!-- Right_here,_hope_on_!! -->
			<div
				class='astronaut-container group absolute -bottom-8 right-0 z-10 transform pl-24 pt-16 transition-transform hover:cursor-pointer md:mr-12 md:mb-8 lg:mr-8 xl:mr-16 2xl:mr-20'
			>
				<div class='astronaut'>
					<div class='absolute -left-[5.5rem] -top-4 h-[6.5rem] -rotate-6'>
						<div class='fadeIn absolute h-full'>
							<DialogBox className='ping h-full' />
						</div>
						<DialogBox className='absolute h-full rotateInDownRight origin-bottom-right' />
						<div
							class='absolute top-1.5 left-[22px] w-24 -rotate-2 group-hover:left-5 group-hover:top-5'
						>
							<p class='text-bold font-head text-2xl leading-5'>
								<span
									style='--n:22'
									class={`type-action text-black before:text-3xl group-hover:invisible before:visible before:text-black before:group-hover:content-["Let's_GO!_"]`}
									>Right here, hope on!!</span
								>
							</p>
						</div>
					</div>

					<RocketAstronaut className='h-64 lg:72 xl:h-80 2xl:h-84 w-full' />
				</div>
			</div>
		</div>
		<div class='relative h-[100lvh] w-full'>
			<PlanetLandscape className='absolute w-full -bottom-8' />
		</div>
	</div>

	<main class='w-ful relative overflow-x-clip'>
		<div
			class='mx-auto flex h-screen max-w-screen-md flex-col justify-center p-4 pr-2 md:px-8 md:pr-0 lg:px-0'
		>
			<h1
				class='-mt-8 text-5xl font-bold leading-tight md:text-6xl md:leading-tight xl:text-7xl xl:leading-tight'
			>
				<span class='lightSpeed0'>Web keep <span class='lightSpeed1'>evolving..</span></span>
				<span class='lightSpeed2 block italic'>
					..really
					<span
						class='align-bottom text-[3.5rem] text-transparent [-webkit-text-stroke:2px_white] md:text-[4rem] 2xl:text-[5rem]'
					>
						fast!
					</span>
				</span>
			</h1>

			<p class='mt-4 text-lg leading-6 md:mt-6 md:text-xl 2xl:text-2xl'>
				<span style='--n:142' class='type-desc'>
					It will keep expanding like the <span class='font-semibold italic'>galaxy.</span>
					<br />
					Be part of change & become one of the <span class='font-semibold italic'>stars.</span>
					<br />
					Or you can stay with obsolete tech and <br class='md:hidden' /> die slowly
					<span class='font-semibold italic'> there!</span>&nbsp;
				</span>
			</p>
		</div>

		<div class='h-screen w-full'></div>
	</main>
</Layout>

<style lang='scss'>
	// Web keep..
	$delay-0: 0.4s;
	$duration-0: 0.7s;
	// evolving..
	$delay-1: $delay-0 + $duration-0 - 0.3s;
	$duration-1: 1s;
	// ...really fast
	$delay-2: $delay-1 + $duration-1 - 0.4s;
	$duration-2: 0.5s;
	// astronaut show
	$delay-3: $delay-2 + $duration-2 + 3s;
	$duration-3: 5s;
	// astronout wobble
	$delay-4: $delay-3 + $duration-3 - 0.2s;
	$duration-4: 3s;
	// typing paragraph
	$delay-5: $delay-2 + $duration-2 + 0.2s;
	$duration-5: 7.1s;
	// dialog box show
	$delay-6: $delay-4 - 0.3s;
	$duration-6: 0.7s;
	// dialog box ping
	$delay-7: $delay-6 + $duration-6 - 0.5s;
	$duration-7: 1s;

	@function multiple-box-shadow($n) {
		$value: '#{random(3840)}px #{random(2160*2)}px #FFF';
		@for $i from 2 through $n {
			$value: '#{$value} , #{random(3840)}px #{random(2160*2)}px #FFF';
		}
		@return unquote($value);
	}

	$stars: multiple-box-shadow(1000);
	$stars-big: multiple-box-shadow(750);

	.stars {
		box-shadow: $stars;
	}
	.stars-big {
		box-shadow: $stars-big;
	}

	.twink {
		animation: move-twink 300s linear infinite;
		background-image: url(/images/twink.svg);
	}
	.cloud {
		animation: move-cloud 200s linear infinite;
		background-image: url(/images/cloud.png);
	}
	.stars-shine {
		background-image: url(/images/stars-shine.svg);
	}

	.lightSpeed0 {
		animation: lightSpeed $duration-0 $delay-0 ease-out backwards;
	}
	.lightSpeed1 {
		animation: lightSpeed $duration-1 $delay-1 ease-out backwards;
	}
	.lightSpeed2 {
		animation: lightSpeed $duration-2 $delay-2 ease-out backwards;
	}

	.astronaut-container {
		animation: zoomInUp $duration-3 $delay-3 backwards,
			wobbleX $duration-4 $delay-4 alternate ease-in-out infinite;
	}

	.type-desc {
		/* font-family: monospace; */
		color: #0000;
		background: linear-gradient(-90deg, #cbd5e1 5px, #0000 0) 10px 0,
			linear-gradient(#e2e8f0 0 0) 0 0;
		background-size: calc(var(--n) * 0.8ch) 200%;
		-webkit-background-clip: padding-box, text;
		background-clip: padding-box, text;
		background-repeat: no-repeat;
		animation: blinking 0.5s $delay-5 infinite steps(1) backwards,
			typing calc(var(--n) * 0.05s) $delay-5 steps(var(--n)) both;
	}

	.astronaut {
		animation: wobbleY 4s alternate ease-in-out infinite;
	}

	.rotateInDownRight {
		animation: rotateInDownRight $duration-6 $delay-6 backwards;
	}

	.type-action {
		color: #0000;
		background: linear-gradient(-90deg, #94a3b8 5px, #0000 0) 10px 0, linear-gradient(black 0 0) 0 0;
		background-size: calc(var(--n) * 0.7ch) 200%;
		-webkit-background-clip: padding-box, text;
		background-clip: padding-box, text;
		background-repeat: no-repeat;
		animation: blinking 0.5s $delay-7 infinite steps(1) backwards,
			typing calc(var(--n) * 0.1s) $delay-7 steps(var(--n)) both;
	}

	.group {
		.fadeIn {
			animation: fadeIn 1s calc($delay-7 + 0.5s) backwards;
		}
		&:not(:hover) .ping {
			animation: ping-m 1s cubic-bezier(0, 0, 0.2, 1) infinite;
		}
		&:hover .ping {
			animation: ping-l 1s cubic-bezier(0, 0, 0.2, 1) infinite;
		}
	}

	@keyframes fadeIn {
		0% {
			opacity: 0;
		}
		100% {
			opacity: 1;
		}
	}

	@keyframes move-twink {
		from {
			background-position: 0 0;
		}
		to {
			background-position: -10000px 5000px;
		}
	}

	@keyframes move-cloud {
		from {
			background-position: 0 60px;
		}
		to {
			background-position: 10000px 60px;
		}
	}

	@keyframes wobbleY {
		0% {
			transform: translateY(0);
		}
		25% {
			transform: translateY(-30px);
		}
		50% {
			transform: translateY(-20px);
		}
		75% {
			transform: translateY(-50px);
		}
		100% {
			transform: translate3d(-30px);
		}
	}
	@keyframes wobbleX {
		0% {
			transform: translateX(0);
		}
		14.5% {
			transform: translateX(-5px);
		}
		28.57% {
			transform: translateX(5px);
		}
		42.83% {
			transform: translateX(-12px);
		}
		57.14% {
			transform: translateX(12px);
		}
		71.42% {
			transform: translateX(-8px);
		}
		85.72% {
			transform: translateX(8px);
		}
		100% {
			transform: translateX(0px);
		}
	}

	@keyframes zoomInUp {
		from {
			opacity: 0;
			transform: scale3d(0.1, 0.1, 0.1) translate3d(1000px, 1000px, 0);
			animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);
		}

		70% {
			opacity: 1;
			transform: scale3d(0.6, 0.6, 0.6) translate3d(300px, 300px, 0);
			animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
		}

		100% {
			opacity: 1;
			transform: scale3d(1, 1, 1) translate3d(0, 0, 0);
			animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);
		}
	}

	@keyframes lightSpeed {
		from {
			transform: translate3d(-100%, 0, 0) skewX(30deg);
			opacity: 0;
		}

		60% {
			transform: skewX(-20deg);
			opacity: 1;
		}

		80% {
			transform: skewX(5deg);
		}

		to {
			transform: translate3d(0, 0, 0);
		}
	}

	@keyframes typing {
		from {
			background-size: 0 200%;
		}
	}
	@keyframes blinking {
		50% {
			background-position: 0 -100%, 0 0;
		}
	}

	@keyframes rotateInDownRight {
		from {
			transform: rotate3d(0, 0, 1, 45deg);
			opacity: 0;
		}

		to {
			transform: translate3d(0, 0, 0);
			opacity: 1;
		}
	}

	@keyframes ping-l {
		75%,
		100% {
			transform: scale3d(1.3, 1.5, 0);
			opacity: 0;
		}
	}
	@keyframes ping-m {
		75%,
		100% {
			transform: scale(1.15);
			opacity: 0;
		}
	}
</style>
